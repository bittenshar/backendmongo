{
  "info": {
    "name": "Aadhaar Upload & Verification API",
    "description": "Complete Aadhaar document upload and verification endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "1. Upload Aadhaar Document",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"aadhaarNumber\": \"123456789012\",\n  \"fullName\": \"John Doe\",\n  \"dateOfBirth\": \"1990-05-15\",\n  \"gender\": \"M\",\n  \"address\": \"123 Main Street, City, State 123456\",\n  \"frontImageS3Key\": \"uploads/aadhaar/user123/front-2025-12-16.jpg\",\n  \"backImageS3Key\": \"uploads/aadhaar/user123/back-2025-12-16.jpg\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/aadhaar/upload/{{userId}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "upload",
            "{{userId}}"
          ]
        }
      }
    },
    {
      "name": "2. Get Aadhaar Document",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/aadhaar/{{userId}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "{{userId}}"
          ]
        }
      }
    },
    {
      "name": "3. View Aadhaar Image (Front)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/aadhaar/proxy/{{frontImageToken}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "proxy",
            "{{frontImageToken}}"
          ]
        }
      }
    },
    {
      "name": "4. View Aadhaar Image (Back)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/aadhaar/proxy/{{backImageToken}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "proxy",
            "{{backImageToken}}"
          ]
        }
      }
    },
    {
      "name": "5. Get Pending Aadhaar Verifications (Admin)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{adminToken}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/aadhaar/admin/pending?page=1&limit=10",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "admin",
            "pending"
          ],
          "query": [
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "limit",
              "value": "10"
            }
          ]
        }
      }
    },
    {
      "name": "6. Verify Aadhaar Document (Admin)",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{adminToken}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"notes\": \"Document verified. Details match Aadhaar records.\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/aadhaar/verify/{{aadhaarDocId}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "verify",
            "{{aadhaarDocId}}"
          ]
        }
      }
    },
    {
      "name": "7. Reject Aadhaar Document (Admin)",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{adminToken}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"notes\": \"Image quality is poor. Front side not clearly visible. Please resubmit with high-quality images.\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/aadhaar/reject/{{aadhaarDocId}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "reject",
            "{{aadhaarDocId}}"
          ]
        }
      }
    },
    {
      "name": "8. Get Aadhaar Statistics (Admin)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{adminToken}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/aadhaar/admin/statistics",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "admin",
            "statistics"
          ]
        }
      }
    },
    {
      "name": "9. Encrypt Aadhaar URL",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"url\": \"https://s3.amazonaws.com/mybucket/uploads/aadhaar/user123/front.jpg\",\n  \"expiryHours\": 168\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/aadhaar/encrypt",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "encrypt"
          ]
        }
      }
    },
    {
      "name": "10. Decrypt Aadhaar Token (Admin)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{adminToken}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"token\": \"{{frontImageToken}}\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/aadhaar/decrypt",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "decrypt"
          ]
        }
      }
    },
    {
      "name": "11. Delete Aadhaar Document",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/aadhaar/{{userId}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "{{userId}}"
          ]
        }
      }
    },
    {
      "name": "12. Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/aadhaar/health",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "aadhaar",
            "health"
          ]
        }
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "token",
      "value": "your_user_token_here",
      "type": "string"
    },
    {
      "key": "adminToken",
      "value": "your_admin_token_here",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "user_id_here",
      "type": "string"
    },
    {
      "key": "aadhaarDocId",
      "value": "aadhaar_document_id_here",
      "type": "string"
    },
    {
      "key": "frontImageToken",
      "value": "encrypted_front_token_here",
      "type": "string"
    },
    {
      "key": "backImageToken",
      "value": "encrypted_back_token_here",
      "type": "string"
    }
  ]
}
