#!/bin/bash

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  ğŸš€ Android Bank Payment Integration - Quick Setup"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# Check if Node.js is running
echo "ğŸ” Checking if API server is running..."
if lsof -Pi :3000 -sTCP:LISTEN -t >/dev/null ; then
    echo "âœ… API Server is running on port 3000"
else
    echo "âŒ API Server NOT running!"
    echo ""
    echo "ğŸ“ To start the API server:"
    echo "   npm start"
    echo "   or"
    echo "   node src/server.js"
    echo ""
    exit 1
fi

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  ğŸ“‹ Next Steps:"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "1ï¸âƒ£  IMPORT POSTMAN COLLECTION"
echo "   â””â”€ File: Bank_Payment_Android_Integration.postman_collection.json"
echo "   â””â”€ Steps:"
echo "       â€¢ Open Postman"
echo "       â€¢ Click Import (top left)"
echo "       â€¢ Select the JSON file"
echo "       â€¢ Click Import"
echo ""

echo "2ï¸âƒ£  TEST IN POSTMAN"
echo "   â””â”€ Follow: POSTMAN_TESTING_GUIDE.md"
echo "   â””â”€ Run these requests in order:"
echo "       1. Login User"
echo "       2. Create Order - â‚¹500"
echo "       3. Complete payment on Razorpay"
echo "       4. Verify Payment"
echo "   â””â”€ Test card: 4111111111111111"
echo ""

echo "3ï¸âƒ£  INTEGRATE INTO ANDROID"
echo "   â””â”€ Follow: ANDROID_INTEGRATION_CHECKLIST.md"
echo "   â””â”€ Steps:"
echo "       1. Add Razorpay dependency"
echo "       2. Create model classes"
echo "       3. Create API service"
echo "       4. Create Payment Activity"
echo "       5. Test on emulator/device"
echo ""

echo "4ï¸âƒ£  DOCUMENTATION"
echo "   â””â”€ ANDROID_QUICK_REFERENCE.md - For quick lookup"
echo "   â””â”€ ANDROID_INTEGRATION_README.md - Overview"
echo "   â””â”€ POSTMAN_TESTING_GUIDE.md - API testing guide"
echo ""

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  ğŸ”— API Endpoints"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Base URL: http://localhost:3000/api"
echo ""
echo "POST   /auth/login"
echo "POST   /payments/create-order"
echo "POST   /payments/verify"
echo "GET    /payments"
echo "GET    /payments/:paymentId"
echo "GET    /payments/order/:orderId"
echo "POST   /payments/:paymentId/refund"
echo ""

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  ğŸ’³ Test Card Details"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Card Number: 4111111111111111"
echo "Expiry: 12/25 (any future date)"
echo "CVV: 123"
echo ""
echo "UPI: success@razorpay"
echo "Net Banking: Select any bank"
echo ""

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  âœ… Everything is ready!"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Start testing in Postman: ğŸ‘‰ Bank_Payment_Android_Integration.postman_collection.json"
echo ""
